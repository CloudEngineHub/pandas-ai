---
title: 'NL Layer'
description: 'Understanding the AI and natural language processing capabilities of PandaAI'
---

## How does PandaAI NL Layer work?

The Natural Language Layer uses generative AI to transform natural language queries into production-ready code generated by LLMs.
When you use the `.chat` method on a [semantic dataframe](/v3/dataframes), PandaAI passes to the LLM the question, the table headers, and 5-10 rows of the Dataframe.
It then instructs the LLM to generate the most relevant code, whether Python or SQL. The code is then executed locally.

The NL Layer is also one of the core components of our [Data Platform](/v3/ai-dashboards), which allows you to turn raw data into collaborative AI dashboards with in-built conversational agents with a single line of code.
```python
df.load("organization/dataset-name")
df.push()
```

## Configure the NL Layer

PandaAI allows you to configure the NL Layer with the `config.set()` method.

Example:

```python
import pandasai as pai

pai.config.set({
   "llm": "openai",
   "llm_options": {
      "api_key": "YOUR_API_KEY"
   },
   "save_logs": True,
   "verbose": False,
   "save_charts": False,
   "save_charts_path": "exports/charts/",
   "open_charts": True,
   "enable_cache": True,
   "use_error_correction_framework": True,
   "max_retries": 3,
   "enforce_privacy": False,
   "security": "none",
   "custom_whitelisted_dependencies": {}
})
```

### Parameters

#### llm
- **Description**: The LLM to use. You can pass an instance of an LLM or the name of an LLM. See [supported LLMs](/v3/large-language-models) for setup instructions and configuration options.

#### save_logs
- **Type**: `bool`
- **Default**: `True`
- **Description**: Whether to save the logs of the LLM. You will find the logs in the `pandasai.log` file in the root of your project.

#### verbose
- **Type**: `bool`
- **Default**: `False`
- **Description**: Whether to print the logs in the console as PandasAI is executed.

#### save_charts
- **Type**: `bool`
- **Default**: `False`
- **Description**: Whether to save the charts generated by PandasAI. You will find the charts in the root of your project or in the path specified by `save_charts_path`.

#### save_charts_path
- **Type**: `str`
- **Default**: `"exports/charts/"`
- **Description**: The path where to save the charts. You can use this setting to override the default path.

#### open_charts
- **Type**: `bool`
- **Default**: `True`
- **Description**: Whether to open the chart during parsing of the response from the LLM. You can completely disable displaying of charts by setting this option to False.

#### enable_cache
- **Type**: `bool`
- **Default**: `True`
- **Description**: Whether to enable caching. If set to True, PandasAI will cache the results of the LLM to improve the response time. If set to False, PandasAI will always call the LLM. Learn more about [caching](/v3/chat-and-cache#cache).

#### use_error_correction_framework
- **Type**: `bool`
- **Default**: `True`
- **Description**: Whether to use the error correction framework. If set to True, PandasAI will try to correct the errors in the code generated by the LLM with further calls to the LLM. If set to False, PandasAI will not try to correct the errors in the code generated by the LLM.

#### max_retries
- **Type**: `int`
- **Default**: `3`
- **Description**: The maximum number of retries to use when using the error correction framework. You can use this setting to override the default number of retries.

#### enforce_privacy
- **Type**: `bool`
- **Default**: `False`
- **Description**: Whether to enforce privacy. If set to True, PandasAI will not send any data to the LLM, but only the metadata. By default, PandasAI will send 5 samples that are anonymized to improve the accuracy of the results. Learn more about [privacy settings](/v3/privacy-and-security).

#### security
- **Type**: `str`
- **Default**: `"none"`
- **Description**: The security level to use. You can use this setting to override the default security level. See [privacy settings](/v3/privacy-and-security) for more information.

#### custom_whitelisted_dependencies
- **Type**: `dict`
- **Default**: `{}`
- **Description**: The custom whitelisted dependencies to use. You can use this setting to override the default custom whitelisted dependencies. See [custom whitelisted dependencies](/v3/privacy-and-security#custom-whitelisted-dependencies) for more information.
